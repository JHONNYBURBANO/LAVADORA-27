library IEEE;
use IEEE.STD_LOGIC_1164.ALL;

-- Entidad para el decodificador de L/H
entity decodificadorlh27 is
    port (
        velocidad    : in std_logic;                    -- Entrada de velocidad (0: Lento, 1: Rápido)
        ciclo        : in std_logic_vector(2 downto 0); -- Ciclo actual de la lavadora
        seg_out      : out std_logic_vector(6 downto 0) -- Salida del display de 7 segmentos
    );
end entity decodificadorlh27;

-- Arquitectura del decodificador de L/H
architecture Behavioral of decodificadorlh27 is
begin
    process(velocidad, ciclo)
    begin
        -- Si estamos en los ciclos de lavado, enjuague o centrifugado
        if ciclo = "010" or ciclo = "100" or ciclo = "101" then  -- Lavado, Enjuague, Centrifugado
            if velocidad = '0' then
                -- Mostrar la letra L (1000111 para 7 segmentos)
                seg_out <= "1000111";
            else
                -- Mostrar la letra H (0001001 para 7 segmentos)
                seg_out <= "0001001";
            end if;
        else
            -- Apagar el display si no está en lavado, enjuague o centrifugado
            seg_out <= "1111111";  -- Apagar el display
        end if;
    end process;
end architecture Behavioral;
